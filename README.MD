<h1>Python_Labs</h1>

# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 1
### –ó–∞–¥–∞–Ω–∏–µ 1:

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–æ–¥–∏—Ç –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å.
```python
name = input()
age =int(input())
age1 = age +1
print('–ò–º—è:',name)
print('–í–æ–∑—Ä–∞—Å—Ç:',age)
print(f'–ü—Ä–∏–≤–µ—Ç, {name}! –ß–µ—Ä–µ–∑ –≥–æ–¥ —Ç–µ–±–µ –±—É–¥–µ—Ç {age1} –ª–µ—Ç.')
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

![1.jpg](misc/img/lab01/1.jpg)

### –ó–∞–¥–∞–Ω–∏–µ 2: 

```python
a = (input("a: ")).replace(",",".")
b = (input("b: ")).replace(",",".")
print(f"sum={round(float(a)+float(b), 2)}; avg={round((float(a)+float(b))/2, 2)}")
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

![2.png](misc/img/lab01/2.png)

### –ó–∞–¥–∞–Ω–∏–µ 3: 
```python

price = int(input())
discount = int(input())
vat = int(input())
base = price * (1 - discount/100)
vat_amount = base * (vat/100)
total = base + vat_amount
print(f"–ë–∞–∑–∞ –ø–æ—Å–ª–µ —Å–∫–∏–¥–∫–∏: {base:.2f} ‚ÇΩ")
print(f"–ù–î–°:               {vat_amount:.2f} ‚ÇΩ")
print(f"–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:    {total:.2f} ‚ÇΩ")
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

![3.jpg](misc/img/lab01/3.jpg)

### –ó–∞–¥–∞–Ω–∏–µ 4: 
```python

m = int(input())
h = m//60
print(f"{h}:{(m-60*h):02d}")
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

![4.png](misc/img/lab01/4.png)

### –ó–∞–¥–∞–Ω–∏–µ 5:
```python
f = input("–§–ò–û: ")
fio = f.strip()
c = fio.split()
—Å1 =  sum(len(w) for w in c)
i = "".join(p[0].upper() for p in c) + "."
print("–ò–Ω–∏—Ü–∏–∞–ª—ã:", i)
print("–î–ª–∏–Ω–∞ (—Å–∏–º–≤–æ–ª–æ–≤):",—Å1+2)
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

![5.jpg](misc/img/lab01/5.jpg)

# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 2
### –ó–∞–¥–∞–Ω–∏–µ 1:

```python
def mnmx(nums: list[float | int]):
    if not nums:  
        print('Value Error')
        return None  
    mn = min(nums)
    mx = max(nums)
    return (mn, mx)
    
def unique_sorted (nums: list[float | int]):
    return list( sorted( set(nums)))

def flatten(mat: list[list | tuple]):
    flattened_list = []
    for row in mat:
        if isinstance(row, (list, tuple)):
            flattened_list.extend(row)
        else:
            raise TypeError
    return flattened_list
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

![image1.png](misc/img/lab02/image1.png)

### –ó–∞–¥–∞–Ω–∏–µ 2:
```python
def transpose(mat: list[list[float | int]]):
    if not mat:
        return []
    rows = len(mat)
    cols = len(mat[0])
    for row in mat:
        if len(row)!=cols:
            raise ValueError
    teleport_mat = [[mat[i][j] for i in range(rows)] for j in range(cols)]
    return teleport_mat
print(transpose([[1, 2, 3]]))
print(transpose([[1],[2], [3]]))
print(transpose([[1,2],[3,4]]))
print(transpose([[1,2],[3]]))
print(transpose([[]]))

def row_sums(mat: list[list[float | int]]):
    if not mat:
        return []
    rows = len(mat)
    cols = len(mat[0])
    for row in mat:
        if len(row) != cols:
            raise ValueError
    sums=[sum(row) for row in mat]
    return sums
print(row_sums([[1,2,3], [4,5,6]]))
print(row_sums([[-1, 1], [10, -10]]))
print(row_sums([[0,0], [0,0]]))
print(row_sums([[1,2], [3]])) 

def col_sums(mat: list[list[float | int]]):
    if not mat:
        return []
    rows = len(mat)
    cols = len(mat[0])
    for row in mat:
        if len(row) != cols:
            raise ValueError     
    sums = []
    for j in range(cols):
        column_sum = 0
        for i in range(rows):
            column_sum += mat[i][j]
        sums.append(column_sum)    
    return sums

print(col_sums([[1, 2, 3], [4, 5, 6]]))  
print(col_sums([[-1, 1], [10, -10]]))    
print(col_sums([[0, 0], [0, 0]]))        
print(col_sums([[1, 2], [3]]))  
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

![imagge2.1.jpg](misc/img/lab02/imagge2.1.jpg)
![imagge2.2.jpg](misc/img/lab02/imagge2.2.jpg)
![imagge2.3.jpg](misc/img/lab02/imagge2.3.jpg)


### –ó–∞–¥–∞–Ω–∏–µ 3:
```python
def format_record(rec: tuple[str, str, float]):
    if not isinstance(rec, tuple):
        raise TypeError(f"–û–∂–∏–¥–∞–µ—Ç—Å—è tuple, –ø–æ–ª—É—á–µ–Ω {type(rec).__name__}")
    if len(rec) != 3:
        raise ValueError(f"–û–∂–∏–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ç–µ–∂ –∏–∑ 3 —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –ø–æ–ª—É—á–µ–Ω–æ {len(rec)}")
    fio, group, gpa = rec
    if not isinstance(fio, str):
        raise TypeError(f"–§–ò–û –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π, –ø–æ–ª—É—á–µ–Ω {type(fio).__name__}")
    if not isinstance(group, str):
        raise TypeError(f"–ì—Ä—É–ø–ø–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π, –ø–æ–ª—É—á–µ–Ω {type(group).__name__}")
    if not isinstance(gpa, (int, float)):
        raise TypeError(f"GPA –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º, –ø–æ–ª—É—á–µ–Ω {type(gpa).__name__}")
    if gpa < 0 or gpa > 5:
        raise ValueError(f"GPA –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –æ—Ç 0 –¥–æ 5, –ø–æ–ª—É—á–µ–Ω–æ {gpa}")
    parts = fio.strip().split()
    family = parts[0]
    initials = ""
    for part in parts[1:]:
        initials += part[0].upper() + "."
    if not initials:
        initials = ""
    form_gpa = f"{gpa:.2f}"
    return f"{family} {initials}, –≥—Ä. {group}, GPA {form_gpa}"

print(format_record(("–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á", "BIVT-25", 4.6)))
print(format_record(("–ü–µ—Ç—Ä–æ–≤ –ü—ë—Ç—Ä", "IKBO-12", 5.0)))
print(format_record(("–ü–µ—Ç—Ä–æ–≤ –ü—ë—Ç—Ä –ü–µ—Ç—Ä–æ–≤–∏—á", "IKBO-12", 5.0)))
print(format_record(("  —Å–∏–¥–æ—Ä–æ–≤–∞  –∞–Ω–Ω–∞   —Å–µ—Ä–≥–µ–µ–≤–Ω–∞ ", "ABB-01", 3.999)))
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

![image3.jpg](misc/img/lab02/image3.jpg)

# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 3
### –ó–∞–¥–∞–Ω–∏–µ 1:
```python
import re
def normalize(text: str, *, casefold: bool = True, yo2e: bool = True) -> str:
    result = text
    if casefold == True:
        result = result.casefold()    
    if yo2e == True:
        result = result.replace('—ë', '–µ').replace('–Å', '–µ')
    for char in ['\t', '\r', '\n']:
        result = result.replace(char, ' ')
    result = re.sub(r'\s+', ' ', result).strip()
    return result

def tokenize(text: str) -> list[str]:
    pattern = r'\w+(?:-\w+)*'
    tokens = re.findall(pattern, text)
    return tokens

def count_freq(tokens: list[str]) -> dict[str, int]:
    frequency_dict = {}
    for token in tokens:
        frequency_dict[token] = frequency_dict.get(token, 0) + 1
    return frequency_dict

def top_n(freq: dict[str, int], n: int = 5) -> list[tuple[str, int]]:
    items = list(freq.items())
    sorted_items = sorted(items, key=lambda x: (-x[1], x[0]))
    return sorted_items[:n]

# print(normalize("–ü—Ä–ò–≤–ï—Ç\n–ú–ò—Ä\t"))
# print(normalize("—ë–∂–∏–∫, –Å–ª–∫–∞")) 
# print(normalize("Hello\r\nWorld"))
# print(normalize("  –¥–≤–æ–π–Ω—ã–µ   –ø—Ä–æ–±–µ–ª—ã  "))

# print(tokenize("–ø—Ä–∏–≤–µ—Ç –º–∏—Ä" ))
# print(tokenize("hello,world!!!"))
# print(tokenize("–ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –∫—Ä—É—Ç–æ"))
# print(tokenize("2025 –≥–æ–¥" ))
# print(tokenize("emoji üòÄ –Ω–µ —Å–ª–æ–≤–æ" ))

# print(count_freq(["a","b","a","c","b","a"]))
# print(count_freq(["bb", "aa", "bb", "aa", "cc"]))

# freq1 = {"a": 3, "b": 2, "c": 1}
# print(top_n(freq1, 2))
# freq2 = {"bb": 2, "aa": 2, "cc": 1}
# print(top_n(freq2, 2))
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

![001.jpg](misc/img/lab03/001.jpg)
### –ó–∞–¥–∞–Ω–∏–µ 2:
```python
import sys
import os

sys.path.append(os.path.join(os.path.dirname(__file__), '..'))

from lib.pt1 import normalize, tokenize, count_freq, top_n

def main() -> None:
    text = sys.stdin.read().strip()

    norm = normalize(text)
    tokens = tokenize(norm)
    freq = count_freq(tokens)

    print(f"–í—Å–µ–≥–æ —Å–ª–æ–≤: {len(tokens)}")
    print(f"–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª–æ–≤: {len(freq)}")
    print("–¢–æ–ø-5:")
    for word, count in top_n(freq, 5):
        print(f"{word}:{count}")

if __name__ == "__main__":
    main()

"""
1. –°–Ω–∞—á–∞–ª–∞ –≤—Å—Ç–∞–≤–ª—è–µ—à—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª  python3 src/lab03/text_stats.py
2. –ó–∞—Ç–µ–º –≤—Ç—Å–∞–≤–ª—è–µ—à—å —Ç–µ–∫—Å—Ç, —Ç–æ –µ—Å—Ç—å –ü—Ä–∏–≤–µ—Ç, –º–∏—Ä! –ü—Ä–∏–≤–µ—Ç!!!
3. –ü–æ—Ç–æ–º –∫–ª–∞–≤–∏—à–∞–º–∏ CTRL+D
"""
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
![002.jpg](misc/img/lab03/002.jpg)

# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 4
### –ó–∞–¥–∞–Ω–∏–µ A:
### io_txt_csv
```python
from csv import writer
from pathlib import Path

def read_text(path: str, encoding: str = "utf-8") -> str:
    return Path(path).read_text(encoding=encoding)

def write_csv(rows: list, path: str, header: tuple = None) -> None:
    Path(path).parent.mkdir(parents=True, exist_ok=True)
    
    with open(path, 'w', newline='', encoding='utf-8') as f:
        w = writer(f)
        if header:
            w.writerow(header)
        w.writerows(rows)
```

### –ó–∞–¥–∞–Ω–∏–µ B
### text_report
```python
import sys
from pathlib import Path

sys.path.insert(0, str(Path(__file__).parent.parent))

from lab04.io_txt_csv import read_text, write_csv
from lib.pt1 import normalize, tokenize, count_freq, top_n

def validate_output_file(filename):
    path = Path(filename)
    if path.suffix.lower() != '.csv':
        raise ValueError()

def main():
    input_file = "src/data/lab04/input.txt"  
    output_file = "src/data/lab04/report.csv"  
    
    try:
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
        validate_output_file(output_file)
        
        text = read_text(input_file)
        freq = count_freq(tokenize(normalize(text)))
        write_csv(sorted(freq.items(), key=lambda x: (-x[1], x[0])), 
                 output_file, header=("word", "count"))
        
        print(f"‚úì –û—Ç—á—ë—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω: {output_file}")
        print(f"–í—Å–µ–≥–æ —Å–ª–æ–≤: {sum(freq.values())}")
        print(f"–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª–æ–≤: {len(freq)}")
        print("–¢–æ–ø-5:", *[f"{w}:{c}" for w, c in top_n(freq, 5)])
        
    except FileNotFoundError:
        print(f"‚úó –§–∞–π–ª {input_file} –Ω–µ –Ω–∞–π–¥–µ–Ω")
        sys.exit(1)
    except ValueError as e:
        print(f"‚úó –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: {e}")
        sys.exit(1)
    except Exception as e:
        print(f"‚úó –û—à–∏–±–∫–∞: {e}")
        sys.exit(1)

if __name__ == "__main__":
    main()
```
–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

![001.jpg](misc/img/lab04/001.jpg)
![002.jpg](misc/img/lab04/002.jpg)
